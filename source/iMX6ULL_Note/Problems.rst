===================
iMX6ULL学习过程问题记录
===================



烧录
================

-------------------
SD卡烧录
-------------------

修改官方头部文件权限之后，将文件丢进特定芯片文件下执行NXP官方shell即可制作.imx文件

通过sd卡刷新命令，完成sd卡制作即可
>>> sudo dd iflag=dsync oflag=dsync if=sdk20-app.imx of=/dev/sdx bs=512 seek=2
bs设置块大小为512byte，seek为跳过两个块大小，主要原因为imx的其实地址具有1KB的偏移。

:问题:
    但是经过官方文件制作的imx文件会启动异常，在进行正点原子led_c实验中具体表现为,制作NXP的IMG文件烧录后
    设置bs>=16K时led不闪烁，bs<=1K时，led低亮度高频闪烁，但是其闪烁更接近芯片复位。
    但是使用正点原子生成的iMX文件不会产生这种情况。
    目前疑似因IVT和DCD信息问题导致。

    另外就算使用正点工具烧录也不一定能保证板卡正常启动

:不完全分析:
    正点:
        地址0-E4D 总共3661byte，和制作过程sd卡大小相符，大端，中间为0，直到C00（等于1024*3）开始出数，
    NXP:
        其余部分为FF，应当为加密部分，
        非加密部分从400（1024）开始，程序设置entry87800000，但是显示入口地址80002000？
        dcd地址80000440？，40开始为，目前理解为原子编译去掉了地址400前面的数据，dcd对应地址为440
        boot地址410，img起始地址80000420，镜像大小80000400byte？
    总结;
        疑似程序入口出错, 但是程序入口后程序基本相似，程序初始化问题，导致芯片启动异常，回想所谓闪烁极像芯片复位时状态，推测应该为芯片无法进入启动状态，导致重复复位，可能是芯片地址溢出?
        
        另外烧录问题疑似与sd卡格式有关，通过Win刷为FAT32格式之后读卡并不会出现（本人）未知原因启动异常。